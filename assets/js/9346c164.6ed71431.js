"use strict";(self.webpackChunkfmundane_docs=self.webpackChunkfmundane_docs||[]).push([[5574],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>h});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=r.createContext({}),l=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},u=function(e){var n=l(e.components);return r.createElement(i.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(t),h=a,m=d["".concat(i,".").concat(h)]||d[h]||c[h]||o;return t?r.createElement(m,p(p({ref:n},u),{},{components:t})):r.createElement(m,p({ref:n},u))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,p=new Array(o);p[0]=d;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,p[1]=s;for(var l=2;l<o;l++)p[l]=t[l];return r.createElement.apply(null,p)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9506:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>p,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=t(7462),a=(t(7294),t(3905));const o={sidebar_position:5},p="Future mundane webapps",s={unversionedId:"webapps",id:"webapps",title:"Future mundane webapps",description:"Webapps are websites that are served from the machine running the future mundane engine. They can then be served up to devices connected to the caravan's network. You can place them in the fmundane-engine/server/webapps directory and they will be served under the /wa subdirectory.  In the edge of reality experience, for example, three webapps have been created to run on user's phones to get users to solve puzzles.",source:"@site/docs/webapps.md",sourceDirName:".",slug:"/webapps",permalink:"/fmundane-engine/docs/webapps",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Caravan startup",permalink:"/fmundane-engine/docs/startup"},next:{title:"Running code",permalink:"/fmundane-engine/docs/running"}},i={},l=[{value:"Getting webapps on to a (user&#39;s) phone:",id:"getting-webapps-on-to-a-users-phone",level:2}],u={toc:l};function c(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"future-mundane-webapps"},"Future mundane webapps"),(0,a.kt)("p",null,"Webapps are websites that are served from the machine running the future mundane engine. They can then be served up to devices connected to the caravan's network. You can place them in the fmundane-engine/server/webapps directory and they will be served under the /wa subdirectory.  In the edge of reality experience, for example, three webapps have been created to run on user's phones to get users to solve puzzles."),(0,a.kt)("p",null,"So for example the puzzle webapp is under ",(0,a.kt)("inlineCode",{parentName:"p"},"fmundane-engine/server/webapps/puzzle")),(0,a.kt)("p",null,"and can be found at:"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"http://192.168.1.204:3001/wa/puzzle"},"http://192.168.1.204:3001/wa/puzzle")),(0,a.kt)("h2",{id:"getting-webapps-on-to-a-users-phone"},"Getting webapps on to a (user's) phone:"),(0,a.kt)("p",null,"The screen driver has a screen that can display a qr code. So if you call:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"http://192.168.1.204:9102/api/qrcode?qrcode=http://192.168.1.204:3001/wa/puzzle\n")),(0,a.kt)("p",null,"Then it will display a qrcode on the screen that will take the user to:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"http:// 192.168.1.204:3001:3001/wa/puzzle\n")),(0,a.kt)("p",null,"There is an action in fmundane-engine/server/src/actions.json:"),(0,a.kt)("p",null,"And this will then show the qrcode on the screen. The twine authoring tool makes it easy to create QRCodes, so you can use that. Alternatively if you are writing it by hand you would do something like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'[\n   {\n      "action":"http://[lenovo]:9102/api/qrcode",\n      "params":{\n         "query":{\n            "qrcode":"http://[lenovo]:3001/wa/optionschooser"\n         }\n      },\n      "method":"GET",\n      "delay":0\n   }\n]\n```json\n{\n   "type":"webhook",\n   "name":"bespoketest",\n   "id":"bespoketest",\n   "subscription":"/webhook",\n   "onstart":{\n      "actions":[\n         [\n            {\n               "action":"http://[lenovo]:9102/api/qrcode",\n               "params":{\n                  "query":{\n                     "qrcode":"http://[lenovo]:3001/wa/optionschooser"\n                  }\n               },\n               "method":"GET",\n               "delay":0\n            }\n         ]\n      ]\n   },\n   "rules":[\n      {\n         "rule":{\n            "operator":"equals",\n            "operand":"green"\n         },\n         "next":"startup",\n         "actions":[\n            \n         ]\n      }\n   ],\n   "data":[\n      "green"\n   ]\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Triggering events from a webapp.")),(0,a.kt)("p",null,'There is an event called "webhook", that can be listened on.'),(0,a.kt)("p",null,"So if we are currently on the following node:"),(0,a.kt)("p",null,"Then if our webapp calls:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"/event/webhook?trigger=green\n")),(0,a.kt)("p",null,'Then this will trigger the webhook event (i.e., in this case move onto the "startup" node.)'))}c.isMDXComponent=!0}}]);